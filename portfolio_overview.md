# オリジナルプロダクト
## 概要
### 【シフト管理アプリ】
1.  誰のどんな課題を解決するのか？<br>
シフト制の職場での勤怠管理を担当している社員をメインターゲットに管理コストを低減する。併せて提出側の労力軽減も進める。

2.  なぜそれを解決したいのか？<br>
前職ではシフト提出が紙で行われており、管理側は全従業員の紙を何度も確認しシフトに空きがないよう調整しながらエクセルにまとめ確認しまた調整といった作業を行なっていた。<br>
その無駄を解決し現場でしかできない意義のある時間を増やしたい。<br>
併せて、提出側の月末に職場に提出だけしにくる労力、印刷し張り出されたタイミングで写真を撮り自身のシフトを確認する不便さ、また更新された時の認識不足のズレも併せて解決したい。

3. どうやって解決するのか？<br>
提出フォーマット及びシフト確認画面を管理する。
シフト調整する社員が何十枚もの紙を見比べながらエクセルに打ち込む必要をなくすために提出自体をデータで行う。

### 技術面と参考リンク
Frontendは全てReactで行い基本シングルページネーションを意識して作成したい。
BackendはRailsのAPIモードにて実行しReactに適宜データの受け渡しを行うようにする。
API通信としてはaxios使用予定(これで1度データの受け渡しに成功したことがあるだけでこれ以外触ったことありません。。)
非同期通信は何度か触った程度ですが取り入れたい。
下記サイトに感銘を受けプログラミングを学ぶきっかけになった記事なので、大いに参考にしてしまっており良くなければ変更したい。
[学生の作ったシフトアプリ](https://zenn.dev/pae_26/articles/dba5403eca50f0)

### 機能用件
MVPとして1から6までの機能でまずは作成を目標にしています。
- 1. ユーザー(employer)がユーザー画面のカレンダーから日付を選択し出勤可能なシフトの時間帯をデータとして送信できる
- 2. マネージャーはユーザーから送信されたシフトデータをマネージャー画面の仮シフト一覧にて全ユーザーの出勤可能日を確認できる
- 3. マネージャーはユーザーの出勤可能日を確定もしくは削除ができる
- 4. マネージャーは確定したシフトを確定シフトとして全ユーザーが閲覧可能の状態にして公開ができる
- 5. 全ページのcompany nameの部分をstoreテーブルのnameカラムに変更する
- 6. 各ユーザーはトップページからログインができる
- 7. 全ページ共通のハンバーガーメニューを作成しクリックで開くことでお問い合わせ、変更依頼、お知らせの機能を使うことができる。
- 8. 各ユーザーは確定したシフトに対してハンバーガーメニュー内の変更依頼からシフトの変更をマネージャーに依頼できる。プルリクエストのイメージ
- 9. マネージャーは変更依頼を受け取ると確定シフト画面からシフトのupdateができる。
- 10. 上記のupdateされた場合はハンバーガーメニュー内のお知らせ一覧から各ユーザーは確認できる
- 11. 確定したシフトのCSV出力

### 非機能用件
- 1. ログインに関してcookieにてパスワードを保存してログインを簡単にできる
- 2. ユーザーは基本ケータイ、マネージャーは基本パソコンでこのアプリを使う想定なのでレスポンシブ対応
- 3. 個人情報を扱うのでセキュリティ面の確保
- 4. デプロイの仕組みとして、GitHubのmainブランチにマージしたら自動デプロイされる機能は盛り込みたい。

### 疑問
- よくある既存のものでも大丈夫なのか<br>
下記の疑問と一部同意義にはなるがオリジナリティが作品自体には求められるのか。
- ポートフォリオの最重視ポイントとはどこになるのか<br>
世にないものを生み出す個人の発想力なのか、既存アプリとは違う優位性なのか。それとも何か解決したという問題解決力、もしくは自身でゼロから作り切ったという自走力の部分を評価してくれるのか。(技術レベルが見られるのは前提としてポートフォリオ自体の価値の観点はどこが最重要なのか)
- 未熟技術の採用に関して<br>
Dockerなどの周辺技術で業務レベルに達していないがなんとか落とし込めそうであれば、ポートフォリオに入れ込み使用することで学習意欲をアピールをした方がいいのか、もしくは仮に細かな質問された際に回答できないレベルであれば採用しない方がいいのかどちらなのか
- パーツ単位での参考<br>
オリジナルでゼロから全てコードをかけた方がもちろんいいと思うが、確実に躓くのでその際にパーツ単位で他サイトのコードを改変し利用、もしくは小さいパーツであればそのまま利用してもいいのか。<br>
例えば、Reactでモーダル表示するコンポーネント作成するとなった時にモーダル表示できる塊を入れ込みすることは大きなマイナス評価なのかどうか。

### メイン機能
<details><summary>管理者画面とユーザー画面でログインによる分岐で操作変更</summary>

メイン画面にてログイン画面を実装。
管理者かユーザーかをパスワードで画面を分岐させる。
railsチュートリアルのようなものをイメージ。Reactでできるかどうかはやったことないのでわからないがやる。

</details>

<details><summary>管理者によるシフトの管理及び確認</summary>
管理者画面では全ユーザーの出勤可能日が記入された月別のカレンダー（仮シフト一覧）が氏名＋出勤可能時間で表示される。<br>
その画面を管理者は確認し各日付において過剰分の人員を削除及び出勤時間の編集ができる。<br>
また同画面に確定ボタンあり確定ができ、確定後はそのデータがシフト確定一覧画面に反映される。<br>
管理者画面での操作は主にパソコン作業想定。<br>

</details>

<details><summary>ユーザー画面による出勤可能日の提出及び確定シフトの確認</summary>

ユーザー画面では出勤可能日をカレンダーに打ち込み送信を押すことで管理者画面の仮シフト一覧に反映される。<br>カレンダーフォーマットは全て統一でここでも日付を押すことでモーダル画面表示で出勤可能日を打ち込めるようにする。<br>シフト確定一覧画面は画面遷移にて全員の確定した出勤日を月別で確認できる。<br>携帯電話での操作想定<br>下記日付クリックした際のモーダル表示機能イメージ

<img width=70% src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2741017/7d1a8cfd-ca97-629c-ef82-950c664e9a4a.png">


</details>

<details><summary>ワイヤーフレーム</summary>

## ログイン画面
この画面で管理者なのかユーザーなのか判断。
社員番号と任意のパスワードでログインできる。
管理者は基本的に1名しか登録できず、ユーザーは管理者によって社員番号登録されたのちにパスワード設定しログインできる様になる。
本来であれば店舗アカウントとしてまずはログインさせたいが自信ないのでデフォルトで管理者はこちらで登録しておき、あらかじめ利用者にパスワード等伝えておく。
<img width="" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2741017/9676d395-22ad-e455-2ca0-e8f86be3078b.png">

## パスワード入力画面
ここで社員番号と自分で決めたパスワード打ち込むと自身の画面にログインできる。
管理者の場合は管理者画面に遷移する。
<img width="" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2741017/ba0e899e-b007-88aa-536a-04460f03bfdb.png">

## 管理者としてログインした場合の管理者画面
CREATE USERは社員番号登録ができこれでログイン画面にてアカウント作成でパスワードを打ち込みユーザーアカウントが出来上がる
SHIFT PAGESは仮シフト一覧のページに移動
DECIDED PAGES仮シフト一覧を確定したものが掲載される画面に移動
<img width="" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2741017/23a65d8d-15e6-59bd-95ff-1c9fb278f4e2.png">

## 管理者画面(仮シフト一覧：SHIFT PAGES)
管理者画面からのみアクセス可能。
ここにシフト提出されればそのデータに基づいて可能時間を入れていくことができる。
アルバイトで⚪︎になっている部分はこの日に出勤できる時間があるサイン(ユーザー画面からの送信でこの日付に時間帯記述されている意味)でこの部分をクリックするとプルダウンでその時間帯を指定できる。
×になっているところは出勤できない日として登録されているので何もできない。
社員に関してはA,B,F,中番など独自の値が入る。
確定ボタンを押せば現状登録されているカレンダーがユーザー画面に表示される様になる。
一時保存ボタンはユーザー画面には表示されず管理者として再度ログインしてこの画面に戻ってきても同じ状態を保つ様にする。
部門と名前の表示は固定でスクロールバーで日付だけ流せる様にしたい。
<img width="" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2741017/6fc9bc9b-7835-dd7a-03b9-288a743c92c7.png">

## ユーザー画面
下の画面からUSER SHIFTかDECIDED PAGESに行けるボタンがあり、
DECIDED PAGESは管理者画面の確定版が見れる。
SHIFT PAGESは縦型のカレンダーの表示で下記のように表示される。(パソコンではなくケータイでの使用想定)
日付をクリックするとモーダル表示で出勤時間と退勤時間をプルダウン的に選択できるのでそこで選ぶ。何も選ばれていない日付は送信後デフォルトで×になる。
<img width="" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2741017/bde3177e-29cf-88db-6316-1e2e28167fe1.png">
<img width="" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2741017/eea6b794-b1eb-7e04-451a-c345201b1bc4.png">


</details>


<details><summary>サイトマップ</summary>
<img width="" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2741017/8a8f00db-69c5-af45-6e63-3dac296afb98.png">
</details>


### 追加機能
- 問い合わせ機能<br>
ハンバーガーメニューの中に問い合わせ機能を入れる
問い合わせ内容や改善して欲しい点を自分にメールを送ることができる機能

- 出勤可能日変更依頼<br>
シフト提出者側は基本的には提出したシフトの変更は自由にできないがGitHubのプルリクエストのように変更依頼を出すことができる。<br>
管理者側で確認された場合は確定シフトに変更を加えてもらう。<br><br>

- お知らせ機能<br>
ハンバーガーメニューを作りそこにお知らせ機能を入れる。
そこを押すと確定シフトが更新されたことや、出勤日変更依頼が届いていることなどが確認できる。

- 各従業員のスキルレベル表示<br>
各従業員に属性としてスキルレベルを持たせ（管理者画面でしか確認できない）単日のスキルレベル合計が設定した数値よりも低ければ日付部分の色を変更しスキル不足を表示する。<br>※前職は1000坪以上ある大型店だったが人員不足を補うほどの募集が集まる地域でなかったためスキルの高い人員を適切に配置することが重要だったためスキルを可視化できるようにしたい<br><br>

- 店舗ごとのアカウント作成<br>
店舗ごとのログイン機能を持たせ何店舗でも管理者と店舗従業員を持ったテーブルを作れるようにする<br><br>

- CSV出力<br>
確定したシフトをCSV出力可能にし既存のシフト一覧のエクセルに貼り付け可能にする。<br><br>

- Gpt4によるシフト最適化<br>
Gpt4のAPIを入れ込み各従業員の出勤可能日が提出され次第管理者画面にてAPIを叩くボタン設置し各日程の最適人数を当てはめてくれる機能<br><br>



## 使用予定技術
backend
- Ruby 3.1.2
- Ruby on Rails 7.0.3(APIモード)

frontend
- React 18.2.0
- JavaScript ES6
- HTML5
- CSS, SCSS
- tailwindもしくはmaterialUI(tailwindの方が自分的にはわかりやすく使いやすいイメージ。ただめちゃくちゃ長くなるので可読性落ちる気がしているので現役エンジニアの意見を聞きたい)

infrastructure
- Docker 23.0.5 (少し触った程度。書籍2冊読了、Youtube動画で練習した程度)
- AmazonWebServices （まだ全く触ったことがない。デプロイだけであれば2週間でなんとかできるのか。）

database
- MySQL 5.8
